# مستندات فاز چهارم پروژه ساختمان داده

## صف انتشار اپیزودها با استفاده از Min-Heap

### هدف این فاز

در فاز چهارم پروژه، هدف پیاده‌سازی یک **صف اولویت (Priority Queue)** برای مدیریت انتشار اپیزودهای پادکست است.
در این سیستم:

* هر اپیزود دارای یک شناسه (ID) و یک عدد اولویت است
* عدد اولویت کوچکتر به معنی **اولویت بالاتر برای انتشار** است
* همیشه اپیزودی که کمترین اولویت عددی را دارد باید زودتر منتشر شود

برای پیاده‌سازی این ساختار، از **Min-Heap** استفاده شده است.

---

#### دلیل انتخاب Min-Heap

Min-Heap این ویژگی‌ها را دارد:

* دسترسی سریع به کمترین عنصر (O(1))
* درج و حذف با پیچیدگی زمانی O(log n)
* پیاده‌سازی ساده با استفاده از آرایه

به همین دلیل، Min-Heap انتخاب مناسبی برای صف انتشار اپیزودها است.

---

### فایل‌های پیاده‌سازی شده در این فاز

#### 1. فایل `Episode.java`

این فایل نماینده‌ی یک اپیزود پادکست است.

هر اپیزود شامل:

* `id` : شناسه اپیزود (مثلاً E1، E2 و ...)
* `priority` : عدد اولویت انتشار

این کلاس فقط برای نگهداری داده استفاده می‌شود و هیچ منطق پیچیده‌ای ندارد.

---

#### 2. فایل `MinHeap.java`

این فایل **هسته اصلی فاز چهارم** است.

در این کلاس:

* Min-Heap به صورت دستی و فقط با استفاده از آرایه پیاده‌سازی شده
* هیچ کتابخانه آماده‌ای برای Heap استفاده نشده است

##### ساختار داخلی

* داده‌ها در یک آرایه از نوع `Episode` ذخیره می‌شوند
* اندیس 0 همیشه ریشه هیپ (کم‌اولویت‌ترین اپیزود) است
* فرزند چپ: `2*i + 1`
* فرزند راست: `2*i + 2`

##### عملیات پیاده‌سازی شده

1. **insert**

   * افزودن اپیزود جدید به هیپ
   * قرار دادن در انتهای آرایه
   * بالا کشیدن (heapify up) تا حفظ خاصیت Min-Heap

2. **extract-min**

   * حذف و برگرداندن اپیزودی با کمترین اولویت
   * جایگزینی ریشه با آخرین عنصر
   * پایین کشیدن (heapify down)

3. **delete**

   * حذف یک اپیزود خاص با استفاده از شناسه
   * جایگزینی با آخرین عنصر و بازسازی هیپ

4. **display**

   * نمایش اپیزودها به صورت مرتب‌شده بر اساس اولویت
   * برای این کار، نمایش به صورت منطقی انجام می‌شود تا خروجی دقیقاً مطابق نمونه پروژه باشد

5. **heap-sort**

   * مرتب‌سازی اپیزودها بر اساس اولویت
   * خروجی به ترتیب صعودی اولویت نمایش داده می‌شود

---

#### 3. فایل `Phase4Main.java`

این فایل، **نقطه شروع اجرای فاز چهارم** است.

وظایف این فایل:

* دریافت ورودی از کاربر (بدون هاردکد)
* پردازش دستورات:

  * insert
  * display
  * extract-min
  * delete
  * heap-sort
* چاپ خروجی دقیقاً مطابق فرمت خواسته‌شده در صورت پروژه

این فایل هیچ منطق ساختمان داده‌ای ندارد و فقط نقش رابط بین ورودی و کلاس MinHeap را ایفا می‌کند.

---

#### 4. فایل `Phase4Test.java`

این فایل برای **تست و بررسی شرایط خاص (Edge Cases)** نوشته شده است.

در این تست‌ها موارد زیر بررسی می‌شوند:

* درج چند اپیزود با اولویت‌های مختلف
* حذف از هیپ
* حذف اپیزود غیر موجود
* استخراج چندباره کمترین عنصر
* تست heap-sort

این فایل برای اطمینان از صحت عملکرد کد استفاده می‌شود و جزو خروجی نهایی پروژه محسوب نمی‌شود.

---

### نکات مهم طراحی

* تمام ساختمان داده‌ها به صورت دستی پیاده‌سازی شده‌اند
* از هیچ کتابخانه آماده‌ای برای Heap یا Priority Queue استفاده نشده است
* ورودی‌ها کاملاً داینامیک هستند
* خروجی‌ها مطابق نمونه‌های داده‌شده در پروژه تنظیم شده‌اند
* کدها ساده، قابل فهم و در سطح دانشجوی کارشناسی نوشته شده‌اند

---

### جمع‌بندی فاز چهارم

در این فاز:

* یک صف اولویت مبتنی بر Min-Heap طراحی و پیاده‌سازی شد
* تمام عملیات مورد نیاز پروژه پشتیبانی می‌شوند
* خروجی‌ها با نمونه پروژه تطابق کامل دارند
* این فاز مکمل فازهای قبلی پروژه است و مدیریت انتشار اپیزودها را کامل می‌کند
