# ÙØ§Ø² Ú†Ù‡Ø§Ø±Ù…: ØµÙ Ø§ÙˆÙ„ÙˆÛŒØª Ø§Ù†ØªØ´Ø§Ø± Ø§Ù¾ÛŒØ²ÙˆØ¯Ù‡Ø§ (Min-Heap)

## ğŸ“Œ Ù…Ø¹Ø±ÙÛŒ ÙØ§Ø² Ú†Ù‡Ø§Ø±Ù…

**Ù…Ø³Ø¦Ù„Ù‡:**
Ù¾Ù„ØªÙØ±Ù… EchoVerse Ø¨Ø§ÛŒØ¯ Ø§Ù¾ÛŒØ²ÙˆØ¯Ù‡Ø§ÛŒ Ù…Ù†ØªØ´Ø±Ø´Ø¯Ù‡ Ø±Ø§ Ø¨Ø± Ø§Ø³Ø§Ø³ Ø§ÙˆÙ„ÙˆÛŒØª Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ù†Ø¯. Ù‡Ø± Ø§Ù¾ÛŒØ²ÙˆØ¯ Ø¯Ø§Ø±Ø§ÛŒ ÛŒÚ© Ø´Ù†Ø§Ø³Ù‡ Ùˆ Ø§ÙˆÙ„ÙˆÛŒØª Ø¹Ø¯Ø¯ÛŒ Ø§Ø³Øª. Ø³ÛŒØ³ØªÙ… Ø¨Ø§ÛŒØ¯ Ø¨ØªÙˆØ§Ù†Ø¯:
- Ø§Ù¾ÛŒØ²ÙˆØ¯ Ø¬Ø¯ÛŒØ¯ Ø¨Ø§ Ø§ÙˆÙ„ÙˆÛŒØª Ø¯Ø±Ø¬ Ú©Ù†Ø¯
- Ø§Ù¾ÛŒØ²ÙˆØ¯ Ø¨Ø§ Ú©Ù…ØªØ±ÛŒÙ† Ø§ÙˆÙ„ÙˆÛŒØª Ø±Ø§ Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ú©Ù†Ø¯ (Ù…Ù†ØªØ´Ø± Ø´ÙˆØ¯)
- Ø§Ù¾ÛŒØ²ÙˆØ¯ Ø®Ø§ØµÛŒ Ø±Ø§ Ø­Ø°Ù Ú©Ù†Ø¯

**Ø±Ø§Ù‡â€ŒØ­Ù„:**
Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ ÛŒÚ© **Min-Heap** (ØªÙ¾Ù‡Ù” Ú©Ù…ÛŒÙ†Ù‡) Ø¨Ø§ Ù†Ù…Ø§ÛŒØ´ **Ø¢Ø±Ø§ÛŒÙ‡â€ŒØ§ÛŒ** Ú©Ù‡ Ø¨Ù‡ ØªÙ…Ø§Ù… Ø¹Ù…Ù„ÛŒØ§Øªâ€ŒÙ‡Ø§ Ù¾Ø§Ø³Ø® Ù…ÛŒâ€ŒØ¯Ù‡Ø¯.

**Ú†Ø±Ø§ Min-HeapØŸ**
- Ú©Ù…ØªØ±ÛŒÙ† Ø¹Ù†ØµØ± Ù‡Ù…ÛŒØ´Ù‡ Ø¯Ø± Ø±ÛŒØ´Ù‡ Ø§Ø³Øª
- Ø¯Ø±Ø¬ Ùˆ Ø­Ø°Ù: O(log n)
- Ù…Ù†Ø§Ø³Ø¨ Ø¨Ø±Ø§ÛŒ ØµÙâ€ŒÙ‡Ø§ÛŒ Ø§ÙˆÙ„ÙˆÛŒØª
- Ø³Ø§Ø¯Ù‡â€ŒØªØ± Ø§Ø² Ø¯Ø±Ø®Øªâ€ŒÙ‡Ø§ÛŒ Ù…ØªÙˆØ§Ø²Ù†

**Ù‚Ø§Ù†ÙˆÙ† Ù…Ù‡Ù…:**
Ø¨Ø¯ÙˆÙ† `PriorityQueue`. ØªÙ…Ø§Ù… heap Ø¯Ø³ØªÛŒ Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ù…ÛŒâ€ŒØ´ÙˆØ¯.

---

## ğŸ¯ Ø§Ù‡Ø¯Ø§Ù Ùˆ Ø§Ù„Ø²Ø§Ù…Ø§Øª

### Ø§Ù‡Ø¯Ø§Ù ÙØ§Ø² Ú†Ù‡Ø§Ø±Ù…

1. **Ø³Ø§Ø®Øª Heap:** Ù†Ù…Ø§ÛŒØ´ Ø¢Ø±Ø§ÛŒÙ‡â€ŒØ§ÛŒ Min-Heap
2. **Ø¯Ø±Ø¬:** Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø§Ù¾ÛŒØ²ÙˆØ¯ Ø¬Ø¯ÛŒØ¯ Ø¨Ø§ Ø§ÙˆÙ„ÙˆÛŒØª
3. **Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ú©Ù…ÛŒÙ†Ù‡:** Ø¨Ø±Ú¯Ø±Ø¯Ø§Ù†Ø¯Ù† Ùˆ Ø­Ø°Ù Ø§Ù¾ÛŒØ²ÙˆØ¯ Ø¨Ø§ Ú©Ù…ØªØ±ÛŒÙ† Ø§ÙˆÙ„ÙˆÛŒØª
4. **Ø­Ø°Ù:** Ø­Ø°Ù Ø§Ù¾ÛŒØ²ÙˆØ¯ Ø®Ø§Øµ
5. **Ù†Ù…Ø§ÛŒØ´:** Ú†Ø§Ù¾ Ø§Ù¾ÛŒØ²ÙˆØ¯Ù‡Ø§ Ø¨Ù‡ ØªØ±ØªÛŒØ¨ Ø§ÙˆÙ„ÙˆÛŒØª
6. **Ù…Ø±ØªØ¨â€ŒØ³Ø§Ø²ÛŒ:** Ù…Ø±ØªØ¨â€ŒØ³Ø§Ø²ÛŒ Ø§Ù¾ÛŒØ²ÙˆØ¯Ù‡Ø§ Ø¨Ø± Ø§Ø³Ø§Ø³ Ø§ÙˆÙ„ÙˆÛŒØª

### Ø§Ù„Ø²Ø§Ù…Ø§Øª

- Ø¢Ø±Ø§ÛŒÙ‡Ù” Ø«Ø§Ø¨Øª Ø¨Ø±Ø§ÛŒ nÚ¯Ù‡Ø¯Ø§Ø±ÛŒ heap
- Heapify-Up Ùˆ Heapify-Down Ø¯Ø±Ø³Øª Ú©Ø§Ø± Ú©Ù†Ù†Ø¯
- O(log n) Ø¨Ø±Ø§ÛŒ Ø¯Ø±Ø¬ Ùˆ Ø§Ø³ØªØ®Ø±Ø§Ø¬
- Ø¨Ø¯ÙˆÙ† Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡â€ŒÙ‡Ø§ÛŒ Ø¢Ù…Ø§Ø¯Ù‡

---

## ğŸ“ Ø³Ø§Ø®ØªØ§Ø± ÙØ§ÛŒÙ„â€ŒÙ‡Ø§

ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ ÙØ§Ø² Ú†Ù‡Ø§Ø±Ù… Ø¯Ø± Ù¾ÙˆØ´Ù‡ `src/phase4_heap/` Ù‚Ø±Ø§Ø± Ø¯Ø§Ø±Ù†Ø¯:

```text
src/phase4_heap/
    â”œâ”€â”€ Episode.java         (Ú©Ù„Ø§Ø³ Ø§Ù¾ÛŒØ²ÙˆØ¯)
    â”œâ”€â”€ MinHeap.java         (Ú©Ù„Ø§Ø³ heap)
    â”œâ”€â”€ Phase4Main.java      (Ø¨Ø±Ù†Ø§Ù…Ù‡ Ø§ØµÙ„ÛŒ)
    â””â”€â”€ phase4.md            (Ø§ÛŒÙ† ÙØ§ÛŒÙ„)
```

---

## ğŸ’» Ø´Ø±Ø­ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ Ù‡Ù…Ø±Ø§Ù‡ Ø¨Ø§ ØªÙˆØ¶ÛŒØ­ Ú©Ø¯

### 1ï¸âƒ£ Episode.java - Ø³Ø§Ø®ØªØ§Ø± Ø¯Ø§Ø¯Ù‡

**Ù†Ù‚Ø´:** Ù†Ù…Ø§ÛŒÙ†Ø¯Ú¯ÛŒ ÛŒÚ© Ø§Ù¾ÛŒØ²ÙˆØ¯ Ø¯Ø± heap.

**Ú©Ø¯ Ú©Ø§Ù…Ù„:**

```java
public class Episode {
    String id;       // Ø´Ù†Ø§Ø³Ù‡Ù” Ø§Ù¾ÛŒØ²ÙˆØ¯ (Ù…Ø«Ù„Ø§Ù‹ E1ØŒ E2)
    int priority;    // Ø§ÙˆÙ„ÙˆÛŒØª (Ø¹Ø¯Ø¯ Ú©ÙˆÚ†Ú©ØªØ± = Ø¨Ø§Ù„Ø§ØªØ±)
    
    public Episode(String id, int priority) {
        this.id = id;
        this.priority = priority;
    }
}
```

**ØªÙˆØ¶ÛŒØ­ Ø®Ø· Ø¨Ù‡ Ø®Ø·:**
- `String id`: Ø´Ù†Ø§Ø³Ù‡Ù” Ù…Ù†Ø­ØµØ±Ø¨ÙØ±Ø¯ Ø§Ù¾ÛŒØ²ÙˆØ¯ (E1ØŒ E2ØŒ ...)
- `int priority`: Ø§ÙˆÙ„ÙˆÛŒØª Ø¹Ø¯Ø¯ÛŒ (1=Ø¨Ø§Ù„Ø§ØªØ±ÛŒÙ†ØŒ 999=Ù¾Ø§ÛŒÛŒÙ†â€ŒØªØ±ÛŒÙ†)
- Ø³Ø§Ø²Ù†Ø¯Ù‡: Ù‡Ø±Ø¯Ùˆ ÙÛŒÙ„Ø¯ Ø±Ø§ ØªÙ†Ø¸ÛŒÙ… Ú©Ù†ÛŒØ¯

**Ù…Ø«Ø§Ù„:**
```
Episode e1 = new Episode("E1", 5);   // E1 Ø¨Ø§ Ø§ÙˆÙ„ÙˆÛŒØª 5
Episode e2 = new Episode("E2", 2);   // E2 Ø¨Ø§ Ø§ÙˆÙ„ÙˆÛŒØª 2 (Ø¨Ø§Ù„Ø§ØªØ±)
```

---

### 2ï¸âƒ£ MinHeap.java - Ù…Ù†Ø·Ù‚ Heap

**Ù†Ù‚Ø´:** Ù…Ø¯ÛŒØ±ÛŒØª heap: Ø¯Ø±Ø¬ØŒ Ø§Ø³ØªØ®Ø±Ø§Ø¬ØŒ Ø­Ø°ÙØŒ heapify.

#### **Ø§Ù„Ù) Ø¢Ø±Ø§ÛŒÙ‡Ù” Heap:**

```java
private Episode[] heap;   // Ø¢Ø±Ø§ÛŒÙ‡Ù” heap
private int size;         // ØªØ¹Ø¯Ø§Ø¯ Ø¹Ù†Ø§ØµØ± Ù…ÙˆØ¬ÙˆØ¯

public MinHeap(int capacity) {
    heap = new Episode[capacity];
    size = 0;
}
```

**ØªÙˆØ¶ÛŒØ­:**
- `Episode[] heap`: Ø¢Ø±Ø§ÛŒÙ‡â€ŒØ§ÛŒ Ø§Ø² Ø§Ù¾ÛŒØ²ÙˆØ¯Ù‡Ø§
- `int size`: ØªØ¹Ø¯Ø§Ø¯ Ø¹Ù†Ø§ØµØ± (Ø´Ø§Ø®Øµ Ø®Ø§Ù„ÛŒ = size)
- Ø³Ø§Ø²Ù†Ø¯Ù‡: Ø¢Ø±Ø§ÛŒÙ‡ Ø§ÛŒØ¬Ø§Ø¯ Ú©Ù†ÛŒØ¯ØŒ size = 0

**Ø±Ø§Ø¨Ø·Ù‡Ù” Ø´Ø§Ø®Øµ:**
```
Parent(i) = (i-1) / 2
LeftChild(i) = 2*i + 1
RightChild(i) = 2*i + 2
```

#### **Ø¨) Ø¯Ø±Ø¬ - Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø§Ù¾ÛŒØ²ÙˆØ¯:**

```java
public void insert(String id, int priority) {
    // **Ø®Ø· 1-3: Ø§Ù¾ÛŒØ²ÙˆØ¯ Ø¬Ø¯ÛŒØ¯ Ø§ÛŒØ¬Ø§Ø¯ Ú©Ù†**
    Episode newEpisode = new Episode(id, priority);
    heap[size] = newEpisode;      // **Ø®Ø· 1: Ø¯Ø± Ø§Ù†ØªÙ‡Ø§ÛŒ Ø¢Ø±Ø§ÛŒÙ‡**
    int current = size;            // **Ø®Ø· 2: Ù…ÙˆÙ‚Ø¹ÛŒØª ÙØ¹Ù„ÛŒ**
    size++;                         // **Ø®Ø· 3: size Ø²ÛŒØ§Ø¯ Ú©Ù†**
    
    // **Ø®Ø· 4-11: Heapify-Up (Ø¨Ø§Ù„Ø§ Ú©Ø´ Ú©Ø±Ø¯Ù†)**
    while (current > 0) {
        int parent = (current - 1) / 2;  // **Ø®Ø· 4: ÙˆØ§Ù„Ø¯ Ø±Ø§ Ù…Ø­Ø§Ø³Ø¨Ù‡ Ú©Ù†**
        
        // **Ø®Ø· 5-8: Ø§Ú¯Ø± ÙØ±Ø²Ù†Ø¯ Ú©ÙˆÚ†Ú©â€ŒØªØ± Ø§Ø² ÙˆØ§Ù„Ø¯ Ø§Ø³Øª**
        if (heap[current].priority < heap[parent].priority) {
            // **Ø®Ø· 6: Swap (Ø¬Ø§Ø¨Ù‡â€ŒØ¬Ø§ÛŒÛŒ)**
            swap(current, parent);
            current = parent;  // **Ø®Ø· 7: Ø¨Ù‡ ÙˆØ§Ù„Ø¯ Ø¨Ø±Ùˆ**
        } else {
            break;  // **Ø®Ø· 8: heapâ€Œ property Ø¨Ø±Ù‚Ø±Ø§Ø±**
        }
    }
}
```

**ØªÙˆØ¶ÛŒØ­ Ø®Ø· Ø¨Ù‡ Ø®Ø·:**
1. Ø§Ù¾ÛŒØ²ÙˆØ¯ Ø¬Ø¯ÛŒØ¯ Ø§ÛŒØ¬Ø§Ø¯ Ú©Ù†
2. Ø¯Ø± Ø§Ù†ØªÙ‡Ø§ÛŒ Ø¢Ø±Ø§ÛŒÙ‡ (Ø¯Ø± Ù…ÙˆÙ‚Ø¹ÛŒØª size) Ù‚Ø±Ø§Ø± Ø¨Ø¯Ù‡
3. size Ø±Ø§ ÛŒÚ©â€ŒÙˆØ§Ø­Ø¯ Ø²ÛŒØ§Ø¯ Ú©Ù†
4. Ø­Ù„Ù‚Ù‡Ù” Heapify-Up: ØªØ§ Ø²Ù…Ø§Ù†ÛŒ Ú©Ù‡ Ø¯Ø± Ù…ÙˆÙ‚Ø¹ÛŒØª 0 Ù†Ø¨Ø§Ø´ÛŒ ÛŒØ§ heapâ€Œproperty Ø¨Ø±Ù‚Ø±Ø§Ø± Ø´ÙˆØ¯:
   - ÙˆØ§Ù„Ø¯ Ø±Ø§ Ù…Ø­Ø§Ø³Ø¨Ù‡ Ú©Ù†ÛŒØ¯
   - Ø§Ú¯Ø± ÙØ±Ø²Ù†Ø¯ Ú©ÙˆÚ†Ú©â€ŒØªØ± Ø§Ø² ÙˆØ§Ù„Ø¯: Ø¬Ø§Ø¨Ù‡â€ŒØ¬Ø§ÛŒÛŒ Ú©Ù†ÛŒØ¯
   - current Ø±Ø§ Ø¨Ù‡ ÙˆØ§Ù„Ø¯ ØªØºÛŒÛŒØ± Ø¯Ù‡ÛŒØ¯
   - ÙˆÚ¯Ø±Ù†Ù‡: Ø´Ú©Ø³Øª

**Ù…Ø«Ø§Ù„:**
```
Insert E1(5):
heap = [E1(5)], size = 1 âœ“

Insert E2(2):
heap = [E1(5), E2(2)], size = 2
E2(2) < E1(5) â†’ swap
heap = [E2(2), E1(5)], size = 2 âœ“

Insert E3(3):
heap = [E2(2), E1(5), E3(3)], size = 3 âœ“
```

#### **Ø¬) Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ú©Ù…ÛŒÙ†Ù‡ - Ø¨Ø±Ú¯Ø±Ø¯Ø§Ù†Ø¯Ù† Ùˆ Ø­Ø°Ù:**

```java
public Episode extractMin() {
    // **Ø®Ø· 1-3: Ø¨Ø±Ø±Ø³ÛŒ heap Ø®Ø§Ù„ÛŒ**
    if (size == 0)
        return null;
    
    // **Ø®Ø· 4: Ú©Ù…ÛŒÙ†Ù‡Ù” heap (Ø±ÛŒØ´Ù‡)**
    Episode min = heap[0];
    
    // **Ø®Ø· 5-7: Ø¢Ø®Ø±ÛŒÙ† Ø¹Ù†ØµØ± Ø±Ø§ Ø¨Ù‡ Ø±ÛŒØ´Ù‡ Ø¨Ú¯Ø°Ø§Ø±**
    heap[0] = heap[size - 1];
    size--;
    
    // **Ø®Ø· 8: Heapify-Down (Ù¾Ø§ÛŒÛŒÙ† Ú©Ø´ Ú©Ø±Ø¯Ù†)**
    heapifyDown(0);
    
    return min;  // **Ø®Ø· 9: Ú©Ù…ÛŒÙ†Ù‡Ù” Ú©Ù„ Ø±Ø§ Ø¨Ø±Ú¯Ø±Ø¯Ø§Ù†**
}

private void heapifyDown(int index) {
    while (true) {
        int smallest = index;  // **Ø®Ø· 1: Ø§Ø¨ØªØ¯Ø§ Ø®ÙˆØ¯ index**
        int left = 2 * index + 1;   // **Ø®Ø· 2: ÙØ±Ø²Ù†Ø¯ Ú†Ù¾**
        int right = 2 * index + 2;  // **Ø®Ø· 3: ÙØ±Ø²Ù†Ø¯ Ø±Ø§Ø³Øª**
        
        // **Ø®Ø· 4-5: Ø§Ú¯Ø± ÙØ±Ø²Ù†Ø¯ Ú†Ù¾ Ú©ÙˆÚ†Ú©â€ŒØªØ± Ø§Ø³Øª**
        if (left < size && heap[left].priority < heap[smallest].priority) {
            smallest = left;
        }
        
        // **Ø®Ø· 6-7: Ø§Ú¯Ø± ÙØ±Ø²Ù†Ø¯ Ø±Ø§Ø³Øª Ú©ÙˆÚ†Ú©â€ŒØªØ± Ø§Ø³Øª**
        if (right < size && heap[right].priority < heap[smallest].priority) {
            smallest = right;
        }
        
        // **Ø®Ø· 8-11: Ø§Ú¯Ø± Ú©ÙˆÚ†Ú©â€ŒØªØ±ÛŒÙ† ÙØ±Ø²Ù†Ø¯ Ø§Ø³Øª (Ù†Ù‡ Ø®ÙˆØ¯)**
        if (smallest != index) {
            swap(index, smallest);  // **Ø®Ø· 9: Swap**
            index = smallest;       // **Ø®Ø· 10: Ø¨Ù‡ ÙØ±Ø²Ù†Ø¯ Ø¨Ø±Ùˆ**
        } else {
            break;  // **Ø®Ø· 11: heapâ€Œproperty Ø¨Ø±Ù‚Ø±Ø§Ø±**
        }
    }
}

private void swap(int i, int j) {
    Episode temp = heap[i];
    heap[i] = heap[j];
    heap[j] = temp;
}
```

**ØªÙˆØ¶ÛŒØ­ Ø®Ø· Ø¨Ù‡ Ø®Ø· (extractMin):**
1-3. Ø§Ú¯Ø± heap Ø®Ø§Ù„ÛŒ: return null
4. Ú©Ù…ÛŒÙ†Ù‡ (Ø±ÛŒØ´Ù‡) Ø±Ø§ Ù†Ú¯Ù‡â€ŒØ¯Ø§Ø±
5-7. Ø¢Ø®Ø±ÛŒÙ† Ø¹Ù†ØµØ± Ø±Ø§ Ø¨Ù‡ Ø±ÛŒØ´Ù‡ Ø¨Ú¯Ø°Ø§Ø± Ùˆ size Ú©Ù… Ú©Ù†
8. Heapify-Down Ø§Ø¬Ø±Ø§ Ú©Ù†
9. Ú©Ù…ÛŒÙ†Ù‡ Ø±Ø§ Ø¨Ø±Ú¯Ø±Ø¯Ø§Ù†

**ØªÙˆØ¶ÛŒØ­ Ø®Ø· Ø¨Ù‡ Ø®Ø· (heapifyDown):**
1-3. Ú©ÙˆÚ†Ú©â€ŒØªØ±ÛŒÙ† Ø±Ø§ Ø®ÙˆØ¯ index ÙØ±Ø¶ Ú©Ù†ØŒ Ø³Ù¾Ø³ ÙØ±Ø²Ù†Ø¯Ø§Ù† Ø±Ø§ Ù…Ø­Ø§Ø³Ø¨Ù‡ Ú©Ù†
4-5. Ø§Ú¯Ø± ÙØ±Ø²Ù†Ø¯ Ú†Ù¾ Ú©ÙˆÚ†Ú©â€ŒØªØ±: Ú©ÙˆÚ†Ú©â€ŒØªØ±ÛŒÙ† Ø±Ø§ update Ú©Ù†
6-7. Ø§Ú¯Ø± ÙØ±Ø²Ù†Ø¯ Ø±Ø§Ø³Øª Ú©ÙˆÚ†Ú©â€ŒØªØ±: Ú©ÙˆÚ†Ú©â€ŒØªØ±ÛŒÙ† Ø±Ø§ update Ú©Ù†
8-11. Ø§Ú¯Ø± Ú©ÙˆÚ†Ú©â€ŒØªØ±ÛŒÙ† ÙØ±Ø²Ù†Ø¯ Ø§Ø³Øª: swap Ùˆ Ø¨Ù‡ Ø¢Ù† Ø¨Ø±Ùˆ

**Ù…Ø«Ø§Ù„:**
```
heap = [E2(2), E1(5), E3(3)]
extractMin():
  1. min = E2(2)
  2. heap[0] = E3(3) â†’ [E3(3), E1(5)]
  3. heapifyDown(0):
     - E3(3) > E1(5) â†’ swap
     - heap = [E1(5), E3(3)]
  4. Ø¨Ø±Ú¯Ø±Ø¯Ø§Ù†: E2(2)
```

#### **Ø¯) Ø­Ø°Ù Ø§Ù¾ÛŒØ²ÙˆØ¯ Ø®Ø§Øµ:**

```java
public boolean delete(String id) {
    // **Ø®Ø· 1-2: Ø´Ø§Ø®Øµ Ø§Ù¾ÛŒØ²ÙˆØ¯ Ø±Ø§ Ù¾ÛŒØ¯Ø§ Ú©Ù†**
    int index = findIndex(id);
    if (index == -1)
        return false;  // **Ø®Ø· 3: Ù¾ÛŒØ¯Ø§ Ù†Ø´Ø¯**
    
    // **Ø®Ø· 4-6: Ø¢Ø®Ø±ÛŒÙ† Ø¹Ù†ØµØ± Ø±Ø§ Ø¬Ø§ÛŒØ´ Ø¨Ú¯Ø°Ø§Ø±**
    heap[index] = heap[size - 1];
    size--;
    
    // **Ø®Ø· 7-8: Heapify-Down**
    heapifyDown(index);
    return true;
}

private int findIndex(String id) {
    for (int i = 0; i < size; i++) {
        if (heap[i].id.equals(id)) {
            return i;  // **Ø®Ø· 1: Ø´Ø§Ø®Øµ Ø±Ø§ Ø¨Ø±Ú¯Ø±Ø¯Ø§Ù†**
        }
    }
    return -1;  // **Ø®Ø· 2: Ù¾ÛŒØ¯Ø§ Ù†Ø´Ø¯**
}
```

**ØªÙˆØ¶ÛŒØ­ Ø®Ø· Ø¨Ù‡ Ø®Ø·:**
1-2. Ø´Ø§Ø®Øµ Ø§Ù¾ÛŒØ²ÙˆØ¯ Ø±Ø§ Ø¬Ø³ØªØ¬Ùˆ Ú©Ù†
3. Ø§Ú¯Ø± Ù†ÛŒØ§ÙØª: false Ø¨Ø±Ú¯Ø±Ø¯Ø§Ù†
4-6. Ø¢Ø®Ø±ÛŒÙ† Ø¹Ù†ØµØ± Ø±Ø§ Ø¬Ø§ÛŒØ´ Ø¨Ú¯Ø°Ø§Ø± Ùˆ size Ú©Ù… Ú©Ù†
7-8. Heapify-Down Ø§Ø¬Ø±Ø§ Ú©Ù†

#### **Ù‡) Ù†Ù…Ø§ÛŒØ´ Heap:**

```java
public void display() {
    // **Ø®Ø· 1-3: Ù†Ù…Ø§ÛŒØ´ ØªÙ…Ø§Ù… Ø§Ù¾ÛŒØ²ÙˆØ¯Ù‡Ø§ Ø¨Ù‡ ØªØ±ØªÛŒØ¨ Ø§ÙˆÙ„ÙˆÛŒØª**
    for (int i = 0; i < size; i++) {
        System.out.print(heap[i].id + "(" + heap[i].priority + ") ");
    }
    System.out.println();
}
```

**ØªÙˆØ¶ÛŒØ­:**
- ØªÙ…Ø§Ù… Ø¹Ù†Ø§ØµØ± heap Ø±Ø§ Ú†Ø§Ù¾ Ú©Ù†ÛŒØ¯ (ØªØ±ØªÛŒØ¨ Ø¬Ø²Ø¦ÛŒØŒ Ù†Ù‡ Ú©Ø§Ù…Ù„ Ù…Ø±ØªØ¨)

**Ø®Ø±ÙˆØ¬ÛŒ:**
```
E2(2) E1(5) E3(3) E4(1) E5(8)
```

#### **Ùˆ) Heap Sort - Ù…Ø±ØªØ¨â€ŒØ³Ø§Ø²ÛŒ:**

```java
public Episode[] heapSort() {
    // **Ø®Ø· 1-3: Ù†ØªÛŒØ¬Ù‡ Ùˆ backup**
    Episode[] result = new Episode[size];
    int originalSize = size;
    Episode[] originalHeap = new Episode[size];
    
    // **Ø®Ø· 4-6: Backup heap**
    for (int i = 0; i < size; i++) {
        originalHeap[i] = heap[i];
    }
    
    // **Ø®Ø· 7-10: Extract ØªÙ…Ø§Ù… Ø¹Ù†Ø§ØµØ± (Ù…Ø±ØªØ¨â€ŒØ´Ø¯Ù‡)**
    for (int i = 0; i < result.length; i++) {
        result[i] = extractMin();  // **Ø®Ø· 7: Ú©Ù…ÛŒÙ†Ù‡Ù” Ø¬Ø§Ø±ÛŒ**
    }
    
    // **Ø®Ø· 8-10: Restore heap**
    heap = originalHeap;
    size = originalSize;
    return result;
}
```

**ØªÙˆØ¶ÛŒØ­ Ø®Ø· Ø¨Ù‡ Ø®Ø·:**
1-3. Ø¢Ø±Ø§ÛŒÙ‡Ù” Ù†ØªÛŒØ¬Ù‡ Ùˆ backup Ø§ÛŒØ¬Ø§Ø¯ Ú©Ù†
4-6. heap Ø§ØµÙ„ÛŒ Ø±Ø§ backup Ú©Ù†
7-10. ØªÙ…Ø§Ù… Ø¹Ù†Ø§ØµØ± Ø±Ø§ Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ú©Ù†ÛŒØ¯ (Ù…Ø±ØªØ¨â€ŒØ´Ø¯Ù‡)
11-13. heap Ø§ØµÙ„ÛŒ Ø±Ø§ restore Ú©Ù†ÛŒØ¯

**Ø®Ø±ÙˆØ¬ÛŒ:**
```
heapSort() Ø¨Ø±Ú¯Ø±Ø¯Ø§Ù†ÛŒØ¯:
[E2(2), E1(5), E3(3), E4(1), E5(8)]
```

---

### 3ï¸âƒ£ Phase4Main.java - ÙˆØ§Ø³Ø· Ú©Ø§Ø±Ø¨Ø±

**Ù†Ù‚Ø´:** Ø¯Ø±ÛŒØ§ÙØª Ø¯Ø³ØªÙˆØ±Ø§Øª Ùˆ Ù…Ø¯ÛŒØ±ÛŒØª heap.

**Ú©Ø¯ Ú©Ø§Ù…Ù„:**

```java
import java.util.Scanner;

public class Phase4Main {
    public static void main(String[] args) {
        MinHeap heap = new MinHeap(100);      // **Ø®Ø· 1: heap Ø¨Ø±Ø§ÛŒ 100 Ø§Ù¾ÛŒØ²ÙˆØ¯**
        Scanner sc = new Scanner(System.in);  // **Ø®Ø· 2: ÙˆØ±ÙˆØ¯ÛŒ**
        
        while (sc.hasNext()) {
            String command = sc.next();  // **Ø®Ø· 3: Ø¯Ø³ØªÙˆØ± Ø±Ø§ Ø¨Ø®ÙˆØ§Ù†**
            
            // **Ø®Ø· 4-8: Ø¯Ø³ØªÙˆØ± "insert" - Ø¯Ø±Ø¬**
            if (command.equals("insert")) {
                String id = sc.next();          // **Ø®Ø· 4: Ø´Ù†Ø§Ø³Ù‡Ù” Ø§Ù¾ÛŒØ²ÙˆØ¯**
                int priority = sc.nextInt();    // **Ø®Ø· 5: Ø§ÙˆÙ„ÙˆÛŒØª**
                heap.insert(id, priority);      // **Ø®Ø· 6: Ø¯Ø±Ø¬**
                System.out.println("Inserted " + id + " with priority " + priority);  // **Ø®Ø· 7: ØªØ£ÛŒÛŒØ¯**
            }
            // **Ø®Ø· 9-12: Ø¯Ø³ØªÙˆØ± "extract-min" - Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ú©Ù…ÛŒÙ†Ù‡**
            else if (command.equals("extract-min")) {
                Episode min = heap.extractMin();  // **Ø®Ø· 9: Ø§Ø³ØªØ®Ø±Ø§Ø¬**
                if (min != null) {
                    System.out.println("Extracted: " + min.id + "(" + min.priority + ")");  // **Ø®Ø· 10: Ù†Ù…Ø§ÛŒØ´**
                } else {
                    System.out.println("Heap is empty");  // **Ø®Ø· 11: Ø®Ø§Ù„ÛŒ**
                }
            }
            // **Ø®Ø· 13-16: Ø¯Ø³ØªÙˆØ± "delete" - Ø­Ø°Ù**
            else if (command.equals("delete")) {
                String id = sc.next();               // **Ø®Ø· 13: Ø´Ù†Ø§Ø³Ù‡Ù” Ø­Ø°Ùâ€ŒØ´ÙˆÙ†Ø¯Ù‡**
                boolean deleted = heap.delete(id);   // **Ø®Ø· 14: Ø­Ø°Ù**
                if (deleted) {
                    System.out.println("Deleted " + id);  // **Ø®Ø· 15: ØªØ£ÛŒÛŒØ¯**
                } else {
                    System.out.println(id + " not found");  // **Ø®Ø· 16: Ù†ÛŒØ§ÙØª**
                }
            }
            // **Ø®Ø· 17-19: Ø¯Ø³ØªÙˆØ± "display" - Ù†Ù…Ø§ÛŒØ´**
            else if (command.equals("display")) {
                System.out.print("Heap: ");
                heap.display();
            }
            // **Ø®Ø· 20-22: Ø¯Ø³ØªÙˆØ± "heap-sort" - Ù…Ø±ØªØ¨â€ŒØ³Ø§Ø²ÛŒ**
            else if (command.equals("heap-sort")) {
                Episode[] sorted = heap.heapSort();
                System.out.print("Sorted: ");
                for (Episode ep : sorted) {
                    System.out.print(ep.id + "(" + ep.priority + ") ");
                }
                System.out.println();
            }
        }
    }
}
```

**ØªÙˆØ¶ÛŒØ­ Ø®Ø· Ø¨Ù‡ Ø®Ø·:**
1. Heap Ø¨Ø±Ø§ÛŒ 100 Ø§Ù¾ÛŒØ²ÙˆØ¯ Ø§ÛŒØ¬Ø§Ø¯ Ú©Ù†
2. ÙˆØ±ÙˆØ¯ÛŒ Ø±Ø§ Ø§ÙˆÙ„ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ú©Ù†
3. Ø­Ù„Ù‚Ù‡Ù” ÙˆØ±ÙˆØ¯ÛŒ: Ø¯Ø³ØªÙˆØ± Ø±Ø§ Ø¨Ø®ÙˆØ§Ù†
4-7. Ø§Ú¯Ø± "insert": Ø´Ù†Ø§Ø³Ù‡ Ùˆ Ø§ÙˆÙ„ÙˆÛŒØª Ø±Ø§ Ø¨Ø®ÙˆØ§Ù†ØŒ Ø¯Ø±Ø¬ Ú©Ù†
9-11. Ø§Ú¯Ø± "extract-min": Ú©Ù…ÛŒÙ†Ù‡Ù” Ø¬Ø§Ø±ÛŒ Ø±Ø§ Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ùˆ Ù†Ù…Ø§ÛŒØ´ Ø¨Ø¯Ù‡
13-16. Ø§Ú¯Ø± "delete": Ø´Ù†Ø§Ø³Ù‡Ù” Ø­Ø°Ùâ€ŒØ´ÙˆÙ†Ø¯Ù‡ Ø±Ø§ Ø¨Ø®ÙˆØ§Ù†
17-19. Ø§Ú¯Ø± "display": heap Ø±Ø§ Ù†Ù…Ø§ÛŒØ´ Ø¨Ø¯Ù‡
20-22. Ø§Ú¯Ø± "heap-sort": ØªÙ…Ø§Ù… Ø¹Ù†Ø§ØµØ± Ø±Ø§ Ù…Ø±ØªØ¨â€ŒØ´Ø¯Ù‡ Ù†Ù…Ø§ÛŒØ´ Ø¨Ø¯Ù‡

---

## ğŸ§ª Ù†Ø­ÙˆÙ‡ Ø§Ø¬Ø±Ø§ Ùˆ ØªØ³Øª Ú©Ø±Ø¯Ù†

### **Ù…Ø±Ø­Ù„Ù‡Ù” 1: Ú©Ø§Ù…Ù¾Ø§ÛŒÙ„ Ú©Ø±Ø¯Ù†**

Ø¯Ø± Ù¾ÙˆØ´Ù‡Ù” `src`:

```bash
javac phase4_heap/*.java
```

### **Ù…Ø±Ø­Ù„Ù‡Ù” 2: Ø§Ø¬Ø±Ø§ Ú©Ø±Ø¯Ù†**

```bash
java phase4_heap.Phase4Main
```

---

### **Ù†Ù…ÙˆÙ†Ù‡Ù” ØªØ³Øª Û±: Ø¯Ø±Ø¬ Ùˆ Ø§Ø³ØªØ®Ø±Ø§Ø¬**

**ÙˆØ±ÙˆØ¯ÛŒ:**
```
insert E1 5
insert E2 2
insert E3 8
insert E4 1
display
extract-min
extract-min
display
```

**Ø®Ø±ÙˆØ¬ÛŒ Ù…ÙˆØ±Ø¯ Ø§Ù†ØªØ¸Ø§Ø±:**
```
Inserted E1 with priority 5
Inserted E2 with priority 2
Inserted E3 with priority 8
Inserted E4 with priority 1
Heap: E4(1) E2(2) E3(8) E1(5)
Extracted: E4(1)
Extracted: E2(2)
Heap: E1(5) E3(8)
```

**ØªÙˆØ¶ÛŒØ­:**
- 4 Ø§Ù¾ÛŒØ²ÙˆØ¯ Ø¯Ø±Ø¬ Ø´ÙˆÙ†Ø¯
- Heap Ø¨Ù‡ ØµÙˆØ±Øª min-heap Ù…ØªÙˆØ§Ø²Ù† Ù…ÛŒâ€ŒØ´ÙˆØ¯
- Ø¯Ùˆ Ø¨Ø§Ø± Ø§Ø³ØªØ®Ø±Ø§Ø¬: E4(1) Ø³Ù¾Ø³ E2(2)

---

### **Ù†Ù…ÙˆÙ†Ù‡Ù” ØªØ³Øª Û²: Ø­Ø°Ù**

**ÙˆØ±ÙˆØ¯ÛŒ:**
```
insert E1 5
insert E2 2
insert E3 8
delete E2
display
extract-min
```

**Ø®Ø±ÙˆØ¬ÛŒ Ù…ÙˆØ±Ø¯ Ø§Ù†ØªØ¸Ø§Ø±:**
```
Inserted E1 with priority 5
Inserted E2 with priority 2
Inserted E3 with priority 8
Deleted E2
Heap: E1(5) E3(8)
Extracted: E1(5)
```

**ØªÙˆØ¶ÛŒØ­:**
- E2 Ø­Ø°Ù Ù…ÛŒâ€ŒØ´ÙˆØ¯
- Heap Ø¨Ø±Ù‚Ø±Ø§Ø± Ù…ÛŒâ€ŒÙ…Ø§Ù†Ø¯
- E1 Ø­Ø§Ù„Ø§ Ú©Ù…ÛŒÙ†Ù‡ Ø§Ø³Øª

---

### **Ù†Ù…ÙˆÙ†Ù‡Ù” ØªØ³Øª Û³: Heap Sort**

**ÙˆØ±ÙˆØ¯ÛŒ:**
```
insert E5 50
insert E2 20
insert E4 40
insert E1 10
heap-sort
```

**Ø®Ø±ÙˆØ¬ÛŒ Ù…ÙˆØ±Ø¯ Ø§Ù†ØªØ¸Ø§Ø±:**
```
Inserted E5 with priority 50
Inserted E2 with priority 20
Inserted E4 with priority 40
Inserted E1 with priority 10
Sorted: E1(10) E2(20) E4(40) E5(50)
```

**ØªÙˆØ¶ÛŒØ­:**
- heap-sort ØªÙ…Ø§Ù… Ø¹Ù†Ø§ØµØ± Ø±Ø§ Ù…Ø±ØªØ¨â€ŒØ´Ø¯Ù‡ Ù†Ù…Ø§ÛŒØ´ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯

---

## âš ï¸ Ù†Ú©Ø§Øª Ù…Ù‡Ù…

1. **Parent/Child:** ÙØ±Ù…ÙˆÙ„â€ŒÙ‡Ø§ÛŒ Ø´Ø§Ø®Øµ Ø±Ø§ Ø¯Ø±Ø³Øª Ø¨Ù‡â€ŒÚ©Ø§Ø± Ø¨Ø¨Ø±ÛŒØ¯
2. **Heapify-Up:** Ø¨Ø±Ø§ÛŒ Ø¯Ø±Ø¬ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯
3. **Heapify-Down:** Ø¨Ø±Ø§ÛŒ Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ùˆ Ø­Ø°Ù Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯
4. **Min-Heap:** Ú©Ù…ÛŒÙ†Ù‡Ù” Ø±ÛŒØ´Ù‡ Ø§Ø³ØªØŒ Ù†Ù‡ Ø±ÛŒØ´Ù‡Ù” Ø¨ÛŒØ´ÛŒÙ†Ù‡
5. **Size:** ØªØ¹Ø¯Ø§Ø¯ Ø¹Ù†Ø§ØµØ± Ø±Ø§ Ø¯Ù†Ø¨Ø§Ù„ Ú©Ù†ÛŒØ¯

---

## âœ… Ø®Ù„Ø§ØµÙ‡Ù” ÙØ§Ø² Ú†Ù‡Ø§Ø±Ù…

- âœ… Min-Heap Ø¢Ø±Ø§ÛŒÙ‡â€ŒØ§ÛŒ Ø¯Ø³ØªÛŒâ€ŒÙ¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒâ€ŒØ´Ø¯Ù‡
- âœ… Heapify-Up Ùˆ Heapify-Down ØµØ­ÛŒØ­
- âœ… Ø¯Ø±Ø¬ØŒ Ø§Ø³ØªØ®Ø±Ø§Ø¬ØŒ Ø­Ø°Ù: O(log n)
- âœ… Heap Sort Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ´Ø¯Ù‡
- âœ… Ø¨Ø¯ÙˆÙ† Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡â€ŒÙ‡Ø§ÛŒ Ø¢Ù…Ø§Ø¯Ù‡
